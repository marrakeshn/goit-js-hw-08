{"mappings":"qfAMA,IAAIA,EAAoB,CACrBC,MAAO,GACPC,QAAS,IAGZ,MAOMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,UAWlCH,EAAKC,KAAKK,iBAAiB,SAAS,EAAAC,EAAAC,WArBpB,UAAUC,OAAEA,IACxB,MAAMC,KAAEA,EAAIC,MAAEA,GAAUF,EACxBZ,EAAkBa,GAAQC,EAC1B,MAAMC,EAAgBC,KAAKC,UAAUjB,GACrCkB,aAAaC,QAXG,sBAWkBJ,E,GAiBgB,MARtD,WACI,MAAMK,EAAOJ,KAAKK,MAAMH,aAAaI,QArBrB,wBAsBhBtB,EAAoBoB,UAAQpB,EAE5BG,EAAKK,MAAMM,OAAQM,aAAA,EAAAA,EAAMnB,QAAS,GAClCE,EAAKI,SAASO,OAAQM,aAAA,EAAAA,EAAMlB,UAAW,E,CAK3CqB,GA0BApB,EAAKC,KAAKK,iBAAiB,UAxBVe,IACbA,EAAEC,iBAEF,MACIC,UAAUzB,MAAEA,EAAKC,QAAEA,IACnBsB,EAAEG,cAEgB,KAAlBzB,EAAQY,OAAgC,KAAhBb,EAAMa,OAC9Bd,EAAkBC,MAAQA,EAAMa,MAChCd,EAAkBE,QAAUA,EAAQY,MAEpCc,QAAQC,IAAI7B,GACZwB,EAAEG,cAAcG,QAChBZ,aAAaa,WAAW,uBACxB/B,EAAoB,CAChBC,MAAO,GACPC,QAAS,KAGb8B,MAAM,6BAA6B","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../css/common.css';\nimport '../css/03-feedback.css';\nimport { throttle } from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet feedbackFromState = {\n   email: '',\n   message: '',\n};\n\nconst onInput = function ({ target }) {\n    const { name, value } = target\n    feedbackFromState[name] = value\n    const stringifyData = JSON.stringify(feedbackFromState);\n    localStorage.setItem(STORAGE_KEY, stringifyData);\n};\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    textarea: document.querySelector('.feedback-form textarea'),\n    input: document.querySelector('input'),\n};\n\nfunction init() {\n    const data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    feedbackFromState = data ?? feedbackFromState;\n    \n    refs.input.value = data?.email || '';\n    refs.textarea.value = data?.message || '';\n}\n\nrefs.form.addEventListener('input', throttle(onInput, 500));\n\ninit ();\n\nconst onSubmit = e => {\n    e.preventDefault();\n\n    const {\n        elements: { email, message },\n    } = e.currentTarget;\n\n    if (message.value !== '' && email.value !== '') {\n        feedbackFromState.email = email.value;\n        feedbackFromState.message = message.value;\n\n        console.log(feedbackFromState);\n        e.currentTarget.reset();\n        localStorage.removeItem('feedback-form-state');\n        feedbackFromState = {\n            email: '',\n            message: '',\n        };\n    } else {\n        alert('Please fill in all fields!');\n    }\n};\n\n// refs.form.addEventListener('input', throttle(onInput, 500));\nrefs.form.addEventListener('submit', onSubmit);\n\n\n// init();"],"names":["$945622fd0f572e60$var$feedbackFromState","email","message","$945622fd0f572e60$var$refs","form","document","querySelector","textarea","input","addEventListener","$kEUo3","throttle","target","name","value","stringifyData","JSON","stringify","localStorage","setItem","data","parse","getItem","$945622fd0f572e60$var$init","e","preventDefault","elements","currentTarget","console","log","reset","removeItem","alert"],"version":3,"file":"03-feedback.6cb6e559.js.map"}