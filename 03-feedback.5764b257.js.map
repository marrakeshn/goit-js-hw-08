{"mappings":"ofAyBUA,E,aArBJC,EAAc,sBAEhBC,EAAoB,CACrBC,MAAO,GACPC,QAAS,IAUNC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,SAAUF,SAASC,cAAc,2BACjCE,MAAOH,SAASC,cAAc,UAWlCH,EAAKC,KAAKK,iBAAiB,SAAS,EAAAC,EAAAC,WArBpB,SAAUC,G,IAAAC,EAAAD,EAAEC,OAChBC,EAAgBD,EAAhBC,KAAMC,EAAUF,EAAVE,MACdf,EAAkBc,GAAQC,EAC1B,IAAMC,EAAgBC,KAAKC,UAAUlB,GACrCmB,aAAaC,QAAQrB,EAAaiB,E,GAiBgB,MAP5ClB,EAAOmB,KAAKI,MAAMF,aAAaG,QAAQvB,IAC7CC,EAAoBF,UAAQE,EAE5BG,EAAKK,MAAMO,OAAQjB,aAAA,EAAAA,EAAMG,QAAS,GAClCE,EAAKI,SAASQ,OAAQjB,aAAA,EAAAA,EAAMI,UAAW,GA+B3CC,EAAKC,KAAKK,iBAAiB,UAxBV,SAAAc,GACbA,EAAEC,iBAEF,IAEmBC,EAAfF,EAAEG,cADFC,SAAY1B,EAAKwB,EAALxB,MAAOC,EAAOuB,EAAPvB,QAGD,KAAlBA,EAAQa,OAAgC,KAAhBd,EAAMc,OAC9Bf,EAAkBC,MAAQA,EAAMc,MAChCf,EAAkBE,QAAUA,EAAQa,MAEpCa,QAAQC,IAAI7B,GACZuB,EAAEG,cAAcI,QAChBX,aAAaY,WAAW,uBACxB/B,EAAoB,CAChBC,MAAO,GACPC,QAAS,KAGb8B,MAAM,6B","sources":["src/js/03-feedback.js"],"sourcesContent":["import '../css/common.css';\nimport '../css/03-feedback.css';\nimport { throttle } from 'lodash';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet feedbackFromState = {\n   email: '',\n   message: '',\n};\n\nconst onInput = function ({ target }) {\n    const { name, value } = target\n    feedbackFromState[name] = value\n    const stringifyData = JSON.stringify(feedbackFromState);\n    localStorage.setItem(STORAGE_KEY, stringifyData);\n};\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    textarea: document.querySelector('.feedback-form textarea'),\n    input: document.querySelector('input'),\n};\n\nfunction init() {\n    const data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    feedbackFromState = data ?? feedbackFromState;\n    \n    refs.input.value = data?.email || '';\n    refs.textarea.value = data?.message || '';\n}\n\nrefs.form.addEventListener('input', throttle(onInput, 500));\n\ninit ();\n\nconst onSubmit = e => {\n    e.preventDefault();\n\n    const {\n        elements: { email, message },\n    } = e.currentTarget;\n\n    if (message.value !== '' && email.value !== '') {\n        feedbackFromState.email = email.value;\n        feedbackFromState.message = message.value;\n\n        console.log(feedbackFromState);\n        e.currentTarget.reset();\n        localStorage.removeItem('feedback-form-state');\n        feedbackFromState = {\n            email: '',\n            message: '',\n        };\n    } else {\n        alert('Please fill in all fields!');\n    }\n};\n\n// refs.form.addEventListener('input', throttle(onInput, 500));\nrefs.form.addEventListener('submit', onSubmit);\n\n\n// init();"],"names":["data","$b00c40859be242c5$var$STORAGE_KEY","$b00c40859be242c5$var$feedbackFromState","email","message","$b00c40859be242c5$var$refs","form","document","querySelector","textarea","input","addEventListener","$1WSnx","throttle","param","target","name","value","stringifyData","JSON","stringify","localStorage","setItem","parse","getItem","e","preventDefault","_elements","currentTarget","elements","console","log","reset","removeItem","alert"],"version":3,"file":"03-feedback.5764b257.js.map"}